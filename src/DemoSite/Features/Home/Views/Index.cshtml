@model object

@{
    Layout = null;
}

<!DOCTYPE html>

<html>
<head>
    <title>Home</title>
</head>
<body>
<div>

    <h1>Hello world!</h1>
    
    <p>This is a demo of a simple website getting content from a microservice.</p>
    
    <h2>Content from microservice</h2>
    
    <p><button type="button" onclick="requestData('http://localhost:6200/WeatherForecast')">Load some data from the microservice</button></p>

    <p id="microservice-content"></p>
    
    <h2>API</h2>
    <p><a href="http://localhost:6200">Open the API directly here</a></p>

    <script>
        function requestData(url) {
            var request = new XMLHttpRequest();
            request.onreadystatechange = function() {
                if (this.readyState === 4 && this.status === 200) {
                    insertData(this);
                }
            };
            request.open("GET", url, true);
            request.send();
        }

        function insertData(request) {
            document.getElementById("microservice-content").innerHTML =
                request.responseText;
        }
    </script>
</div>
</body>
</html>